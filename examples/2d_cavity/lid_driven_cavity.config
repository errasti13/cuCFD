# Lid-driven cavity flow example configuration
# Units: SI (meters, seconds, kg)

# Mesh configuration
mesh:
  type: cartesian       # Mesh type
  dimensions: [64, 64, 1]  # Number of cells in x, y, z (2D simulation with 1 cell in z)
  domain: [0.0, 1.0, 0.0, 1.0, 0.0, 0.1]  # xmin, xmax, ymin, ymax, zmin, zmax

# Fluid properties
fluid:
  density: 1.0            # kg/m³
  kinematic_viscosity: 0.01  # m²/s (for Reynolds number = 100)

# Boundary conditions
boundary_conditions:
  # Bottom wall (y=0): No-slip wall
  south:
    type: wall
    velocity: [0.0, 0.0, 0.0]
  
  # Top wall (y=1): Moving lid
  north:
    type: wall
    velocity: [1.0, 0.0, 0.0]  # Moving in x-direction with U = 1 m/s
  
  # Left wall (x=0): No-slip wall
  west:
    type: wall
    velocity: [0.0, 0.0, 0.0]
  
  # Right wall (x=1): No-slip wall
  east:
    type: wall
    velocity: [0.0, 0.0, 0.0]
  
  # Front and back: Symmetry for 2D simulation
  bottom:
    type: symmetry
  top:
    type: symmetry

# Initial conditions
initial_conditions:
  velocity: [0.0, 0.0, 0.0]  # Initially fluid at rest
  pressure: 0.0              # Initial pressure (gauge)

# Solver settings
solver:
  type: incompressible_flow  # Solver type
  time_step: 0.005           # Time step size in seconds
  end_time: 20.0             # End time in seconds (steady state)
  max_iterations: 10000      # Maximum number of iterations
  tolerance_velocity: 1.0e-6 # Convergence tolerance for velocity
  tolerance_pressure: 1.0e-5 # Convergence tolerance for pressure
  pressure_correction: "SIMPLE"  # Pressure-velocity coupling algorithm

# Output settings
output:
  directory: "results/lid_driven_cavity"  # Output directory
  frequency: 100             # Output every N time steps
  format: vtk                # Output format (VTK)
  monitor_points: [
    [0.5, 0.5, 0.05],        # Center of cavity
    [0.5, 0.0, 0.05],        # Bottom center
    [0.5, 0.1, 0.05]         # Near bottom
  ] 